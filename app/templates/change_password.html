{% extends "base.html" %}
{% block title %}Change Password{% endblock %}
{% block content %}
<h1>Change Password</h1>
<form method="POST" novalidate>
    {{ form.hidden_tag() }}
    <p>
        {{ form.current_password.label }}
        {{ form.current_password(placeholder="Enter your current password", autocomplete="current_password") }}
        {% for error in form.current_password.errors %}
    <span style="color: red;">{{ error }}</span>
{% endfor %}
    </p>
    <p>
        {{ form.new_password.label }}
        {{ form.new_password(placeholder="Enter your new password", autocomplete="new_password") }}
        {% for error in form.new_password.errors %}
    <span style="color: red;">{{ error }}</span>
{% endfor %}
    </p>
<p>
    {{ form.submit() }}
</p>
</form>

{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}
<p class="text-danger">{{ message }}</p>
{% endfor %}
{% endif %}
{% endwith %}
{% endblock %}

